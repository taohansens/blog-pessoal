{
  "_id": "_design/posts",
  "language": "javascript",
  "views": {
    "by_date": {
      "map": "function(doc) { if(doc.type === 'blog_post' && doc.date) { emit(doc.date, {title: doc.title, slug: doc.slug, summary: doc.summary, date: doc.date, tags: doc.tags}); } }",
      "reduce": "_count"
    },
    "by_slug": {
      "map": "function(doc) { if(doc.type === 'blog_post' && doc.slug) { emit(doc.slug, {title: doc.title, slug: doc.slug, summary: doc.summary, date: doc.date, tags: doc.tags}); } }"
    }
  }
}

